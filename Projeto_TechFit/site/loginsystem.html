<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TechFit ‚Äì Academia Inteligente</title>
  <link rel="stylesheet" href="login.css" />
</head>
<body>
  <div id="app">
    <header class="app-header glass">
      <div class="brand">
        <span class="logo-pulse"></span>
        <h1>TechFit</h1>
      </div>
      <nav id="top-nav" class="top-nav">
        <button class="btn ghost" data-route="home">In√≠cio</button>
        <button class="btn ghost" data-route="agenda">Agendamento</button>
        <button class="btn ghost" data-route="acesso">Acesso</button>
        <button class="btn ghost" data-route="comunicacao">Comunica√ß√£o</button>
        <button class="btn ghost" data-route="avaliacao">Avalia√ß√£o F√≠sica</button>
        <button class="btn ghost" data-route="admin">Painel Administrativo</button>
      </nav>
      <div class="session-area">
        <div id="user-chip" class="chip"></div>
        <button id="btn-logout" class="btn outline small">Sair</button>
      </div>
    </header>

    <main id="view" class="view">
      <!-- Login content will be rendered here by JavaScript -->
    </main>

    <footer class="app-footer">
      <p>¬© <span id="year"></span> TechFit ‚Äî Plataforma acad√™mica com agendamento, acesso via QR, comunica√ß√£o e avalia√ß√£o f√≠sica.</p>
    </footer>
  </div>

  <!-- Templates (renderizados via JS) -->
  <template id="tpl-login">
    <section class="hero">
      <div class="hero-card glass">
        <div class="login-header">
          <div class="logo-container">
            <div class="logo-icon">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="url(#gradient)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 17L12 22L22 17" stroke="url(#gradient)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 12L12 17L22 12" stroke="url(#gradient)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <defs>
                  <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#6cf0ff"/>
                    <stop offset="100%" style="stop-color:#9d6cff"/>
                  </linearGradient>
                </defs>
              </svg>
            </div>
            <h1 class="brand-title">TechFit</h1>
          </div>
          <h2 class="welcome-title">Bem-vindo de volta!</h2>
          <p class="welcome-subtitle">Entre na sua conta para continuar</p>
        </div>

        <form id="form-login" class="login-form">
          <div class="form-group">
            <label class="input-label">
              <span class="label-icon">üìß</span>
              <span>E-mail</span>
            </label>
            <div class="input-wrapper">
              <input type="email" id="login-email" required placeholder="Digite seu e-mail" />
              <div class="input-focus-border"></div>
            </div>
          </div>

          <div class="form-group">
            <label class="input-label">
              <span class="label-icon">üîí</span>
              <span>Senha</span>
            </label>
            <div class="input-wrapper">
              <input type="password" id="login-senha" required placeholder="Digite sua senha" />
              <div class="input-focus-border"></div>
              <button type="button" class="password-toggle" id="toggle-password">
                <span class="eye-icon">üëÅÔ∏è</span>
              </button>
            </div>
          </div>

          <div class="form-options">
            <label class="admin-toggle">
              <div class="toggle-wrapper">
                <input type="checkbox" id="login-admin" />
                <div class="toggle-slider">
                  <div class="toggle-knob"></div>
                </div>
              </div>
              <span class="toggle-label">Conta administrativa</span>
            </label>
            <a href="#" class="forgot-link">Esqueceu a senha?</a>
          </div>

          <button type="submit" class="login-btn">
            <span class="btn-text">Entrar na conta</span>
            <div class="btn-loader" style="display: none;">
              <div class="spinner"></div>
            </div>
          </button>
        </form>

        <div class="login-footer">
          <div class="divider">
            <span>ou</span>
          </div>

          <div class="demo-accounts">
            <h4>Contas de demonstra√ß√£o</h4>
            <div class="account-cards">
              <div class="account-card" data-email="aluno@techfit.com" data-password="123456">
                <div class="account-avatar">üë§</div>
                <div class="account-info">
                  <div class="account-name">Jo√£o Silva</div>
                  <div class="account-role">Aluno</div>
                </div>
                <button class="quick-login-btn" title="Login r√°pido">
                  <span>‚ö°</span>
                </button>
              </div>
              <div class="account-card" data-email="admin@techfit.com" data-password="123456" data-admin="true">
                <div class="account-avatar">üë®‚Äçüíº</div>
                <div class="account-info">
                  <div class="account-name">Admin</div>
                  <div class="account-role">Administrador</div>
                </div>
                <button class="quick-login-btn" title="Login r√°pido">
                  <span>‚ö°</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </template>

  <template id="tpl-home">
    <section class="grid-2">
      <div class="card glass">
        <h3>Minha Semana</h3>
        <div id="home-minha-semana"></div>
      </div>
      <div class="card glass">
        <h3>Notifica√ß√µes</h3>
        <ul id="home-notificacoes" class="list"></ul>
      </div>
    </section>
    <section class="grid-3">
      <div class="card kpi glass"><h4>Frequ√™ncia</h4><div id="kpi-frequencia" class="kpi-val">‚Äî</div></div>
      <div class="card kpi glass"><h4>Ocupa√ß√£o M√©dia</h4><div id="kpi-ocupacao" class="kpi-val">‚Äî</div></div>
      <div class="card kpi glass"><h4>Mensagens</h4><div id="kpi-msgs" class="kpi-val">‚Äî</div></div>
    </section>
  </template>

  <template id="tpl-agenda">
    <section class="toolbar glass">
      <div class="filters">
        <select id="filtro-modalidade"></select>
        <input type="date" id="filtro-data" />
      </div>
      <div class="actions">
        <button id="btn-rel-ocupacao" class="btn outline">Relat√≥rio de Ocupa√ß√£o</button>
        <button id="btn-exportar-ocupacao" class="btn outline">Exportar CSV</button>
      </div>
    </section>
    <section id="lista-aulas" class="cards-grid"></section>
  </template>

  <template id="tpl-acesso">
    <section class="grid-2">
      <div class="card glass">
        <h3>Meu QR de Acesso</h3>
        <div id="qr-area" class="qr-area"></div>
        <button id="btn-gerar-qr" class="btn primary small">Gerar / Atualizar QR</button>
        <p class="muted">Use este QR nas catracas para registrar entrada/sa√≠da (demo).</p>
      </div>
      <div class="card glass">
        <h3>Scanner (Admin)</h3>
        <video id="cam" class="cam" autoplay muted playsinline></video>
        <canvas id="cam-canvas" class="hide"></canvas>
        <div class="inline">
          <button id="btn-start-scan" class="btn outline small">Iniciar Scanner</button>
          <button id="btn-stop-scan" class="btn outline small">Parar</button>
        </div>
        <div id="scan-status" class="muted">C√¢mera parada.</div>
      </div>
    </section>
    <section class="card glass">
      <h3>Hist√≥rico de Acesso</h3>
      <table class="table" id="tabela-acessos">
        <thead><tr><th>Data/Hora</th><th>Usu√°rio</th><th>A√ß√£o</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>
  </template>

  <template id="tpl-comunicacao">
    <section class="grid-2">
      <div class="card glass">
        <h3>Mensagens (Admin)</h3>
        <form id="form-msg" class="form-grid">
          <label><span>T√≠tulo</span><input id="msg-titulo" required></label>
          <label><span>Conte√∫do</span><textarea id="msg-corpo" required rows="4"></textarea></label>
          <label><span>Segmento por Modalidade</span><select id="msg-modalidade"></select></label>
          <label><span>Segmento por Frequ√™ncia (m√≠n. check-ins/m√™s)</span><input id="msg-frequencia" type="number" min="0" value="0"></label>
          <button class="btn primary">Enviar</button>
        </form>
      </div>
      <div class="card glass">
        <h3>Minha Caixa de Entrada</h3>
        <ul id="lista-mensagens" class="list"></ul>
      </div>
    </section>
  </template>

  <template id="tpl-avaliacao">
    <section class="grid-2">
      <div class="card glass">
        <h3>Registrar Avalia√ß√£o</h3>
        <form id="form-av" class="form-grid">
          <label><span>Peso (kg)</span><input id="av-peso" type="number" step="0.1" required></label>
          <label><span>Altura (cm)</span><input id="av-altura" type="number" step="0.1" required></label>
          <label><span>% Gordura</span><input id="av-gordura" type="number" step="0.1"></label>
          <label><span>Peito (cm)</span><input id="av-peito" type="number" step="0.1"></label>
          <label><span>Cintura (cm)</span><input id="av-cintura" type="number" step="0.1"></label>
          <label><span>Quadril (cm)</span><input id="av-quadril" type="number" step="0.1"></label>
          <button class="btn primary">Salvar</button>
        </form>
      </div>
      <div class="card glass">
        <h3>Evolu√ß√£o</h3>
        <div id="charts" class="charts">
          <svg id="chart-peso" class="chart" viewBox="0 0 600 240"></svg>
          <svg id="chart-bmi" class="chart" viewBox="0 0 600 240"></svg>
        </div>
      </div>
    </section>
    <section class="card glass">
      <h3>Lembretes & Alertas</h3>
      <ul id="av-alertas" class="list"></ul>
    </section>
  </template>

  <template id="tpl-admin">
    <section class="tabs glass">
      <button class="tab active" data-tab="alunos">Alunos</button>
      <button class="tab" data-tab="modalidades">Modalidades</button>
      <button class="tab" data-tab="turmas">Turmas</button>
      <button class="tab" data-tab="relatorios">Relat√≥rios</button>
    </section>
    <section id="admin-views">
      <div class="tab-pane show" id="tab-alunos">
        <div class="inline justify-between">
          <h3>Gerenciar Alunos</h3>
          <button id="add-aluno" class="btn small">+ Novo</button>
        </div>
        <table class="table" id="tbl-alunos">
          <thead><tr><th>Nome</th><th>E-mail</th><th>Modalidade</th><th>Check-ins/m√™s</th><th>A√ß√µes</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>

      <div class="tab-pane" id="tab-modalidades">
        <div class="inline justify-between">
          <h3>Modalidades</h3>
          <button id="add-modalidade" class="btn small">+ Nova</button>
        </div>
        <ul id="lista-modalidades" class="chips"></ul>
      </div>

      <div class="tab-pane" id="tab-turmas">
        <div class="inline justify-between">
          <h3>Turmas</h3>
          <button id="add-turma" class="btn small">+ Nova</button>
        </div>
        <table class="table" id="tbl-turmas">
          <thead><tr><th>Modalidade</th><th>Instrutor</th><th>Data</th><th>In√≠cio</th><th>Fim</th><th>Vagas</th><th>Inscritos</th><th>A√ß√µes</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>

      <div class="tab-pane" id="tab-relatorios">
        <div class="grid-2">
          <div class="card glass">
            <h4>Ocupa√ß√£o por Turma</h4>
            <div id="rel-ocupacao"></div>
          </div>
          <div class="card glass">
            <h4>Frequ√™ncia (Check-ins)</h4>
            <div id="rel-frequencia"></div>
          </div>
        </div>
      </div>
    </section>
  </template>

  <div id="toaster" class="toaster"></div>

  <script src="qrcode.min.js"></script>
  <script src="jsqr.min.js"></script>
  <script src="login.js"></script>
</body>
</html>
